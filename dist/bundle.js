
(function(l, r) { if (l.getElementById('livereloadscript')) return; r = l.createElement('script'); r.async = 1; r.src = '//' + (window.location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1'; r.id = 'livereloadscript'; l.head.appendChild(r) })(window.document);
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = global || self, global.Treact = factory());
}(this, (function () { 'use strict';

  const TEXT_ELEMENT = 'TEXT_ELEMENT';
  const UPDATE = 'UPDATE';
  const PLACEMENT = 'PLACEMENT';
  const DELETION = 'DELETION';

  function createElement(type, props, ...children) {
    return {
      type,
      props: {
        ...props,
        children: children.map(child => {
          return typeof child === 'string' 
            ? createTextElement(child)
            : child
        })
      }
    }
  }

  function createTextElement(text) {
    return {
      type: TEXT_ELEMENT,
      props: {
        nodeValue: text,
        children: []
      }
    }
  }

  const isProperty = key => key !== 'children' && !isEvent(key);
  const isEvent = key => key.startsWith('on');
  const isNew = (prev, next) => key => prev[key] !== next[key];
  const isGone = (prev, next) => key => !(key in next);

  /**
   *
   * @param {String} type
   */
  function createDOM (type) {
    const $dom = type === TEXT_ELEMENT
      ? document.createTextNode('')
      : document.createElement(type);

    return $dom
  }

  /**
   *
   * @param {HTMLElement} dom
   * @param {Object} oldProps
   * @param {Object} newProps
   */
  function updateDOM (dom, oldProps, newProps) {
    Object.keys(oldProps)
      .filter(isEvent)
      .filter(key => !(key in newProps) || oldProps[key] !== newProps[key])
      .forEach(key => {
        const event = key.toLowerCase().substring(2);
        dom.removeEventListener(event, oldProps[key]);
      });

    Object.keys(oldProps)
      .filter(isProperty)
      .filter(isGone(oldProps, newProps))
      .forEach(key => {
        dom[key] = '';
      });

    Object.keys(newProps)
      .filter(isEvent)
      .filter(isNew(oldProps, newProps))
      .forEach(key => {
        const event = key.toLowerCase().substring(2);
        dom.addEventListener(event, newProps[key]);
      });

    Object.keys(newProps)
      .filter(isProperty)
      .filter(isNew(oldProps, newProps))
      .forEach(key => {
        dom[key] = newProps[key];
      });
  }

  /**
   *
   * @param {Fiber} wipFiber
   * @param {Element[]} elements
   */
  function reconcileChildren (wipFiber, elements) {
    let index = 0;
    let prevSibling = null;
    let oldFiber = wipFiber.alternate && wipFiber.alternate.child;

    while (index < elements.length) {
      const element = elements[index];
      const isSameType = oldFiber && element && oldFiber.type === element.type;
      let newFiber = null;

      if (isSameType) {
        newFiber = {
          type: oldFiber.type,
          props: element.props,
          dom: oldFiber.dom, // 更新同一个DOM
          parent: wipFiber,
          effectTag: UPDATE,
          alternate: oldFiber
        };
      } else if (element && !isSameType) {
        newFiber = {
          type: element.type,
          props: element.props,
          dom: null,
          parent: wipFiber,
          effectTag: PLACEMENT,
          alternate: null
        };
      } else if (oldFiber && !isSameType) {
        oldFiber.effectTag = DELETION;
        pushDeletion(oldFiber);
      }

      if (oldFiber) {
        oldFiber = oldFiber.sibling;
      }

      if (index === 0) {
        wipFiber.child = newFiber;
      } else {
        prevSibling.sibling = newFiber;
      }

      prevSibling = newFiber;
      index++;
    }
  }

  /**
   * Fiber
   * {
   *  type: string
   *  props: {
   *    children: Element[]
   *  }
   *  dom: HTMLElement
   *  parent: Fiber
   *  child: Fiber
   *  sibling: Fiber
   *  alternate: Fiber
   *  effectTag: string
   * }
   */

  /**
   * 时间切片
   * 将每个Element切分为一个小的工作单元
   */

  let unitOfWork = null; // 时间切片：当前所要进行工作的Fiber单元
  let wipRoot = null; // 保存fiber tree的根结点， work in progress root
  let deletions = [];
  let currentRoot = null; // 记录当前工作到哪个节点

  function commitRoot () {
    deletions.forEach(commitWork);
    commitWork(wipRoot.child);
    currentRoot = wipRoot;
    wipRoot = null;
  }

  /**
   * 操作节点，更新，删除，添加
   * @param {Fiber} fiber
   */
  function commitWork (fiber) {
    if (!fiber) {
      return
    }

    // 函数组件没有dom
    // 为函数组件的子元素循环查找到父节点
    let fiberParentDOM = fiber.parent;
    if (!fiberParentDOM.dom) {
      fiberParentDOM = fiberParentDOM.parent;
    }
    const parentDOM = fiberParentDOM.dom;

    // function component don't have dom
    if (fiber.effectTag === PLACEMENT && fiber.dom) {
      parentDOM.appendChild(fiber.dom);
    } else if (fiber.effectTag === UPDATE) {
      updateDOM(fiber.dom, fiber.alternate.props, fiber.props);
    } else if (fiber.effectTag === DELETION) ;
    commitWork(fiber.child);
    commitWork(fiber.sibling);
  }

  /**
   * 浏览器空闲时执行工作
   * @param {IdleDeadline} deadline
   */
  function workLoop (deadline) {
    let shouldPause = false;

    while (unitOfWork && !shouldPause) {
      unitOfWork = performUnitOfWork(unitOfWork);
      shouldPause = deadline.timeRemaining() < 20;
    }

    // 避免渲染部分UI
    if (!unitOfWork && wipRoot) {
      commitRoot();
    }

    window.requestIdleCallback(workLoop);
  }

  window.requestIdleCallback(workLoop);

  /**
   * 每一次工作处理一个Fiber元素
   * 1. 添加DOM
   * 2. 构建Fiber节点
   * 3. 返回下一个Fiber节点
   * @param {Fiber} fiber
   */
  function performUnitOfWork (fiber) {
    const isFunctionComponent = fiber.type instanceof Function;

    if (isFunctionComponent) {
      updateFunctionComponent(fiber);
    } else {
      updateHostComponent(fiber);
    }

    if (fiber.child) {
      return fiber.child
    }
    let nextFiber = fiber;
    while (nextFiber) {
      if (nextFiber.sibling) {
        return nextFiber.sibling
      }
      nextFiber = nextFiber.parent;
    }
  }

  let wipFiber = null; // 当前使用到的函数组件
  let hookIndex = 0; // 当前组件的钩子下标
  function updateFunctionComponent (fiber) {
    wipFiber = fiber;
    hookIndex = 0;
    wipFiber.hooks = [];
    const children = [fiber.type(fiber.props)];
    reconcileChildren(fiber, children);
  }

  function useState (initial) {
    const oldHook =
      wipFiber.alternate &&
      wipFiber.alternate.hooks &&
      wipFiber.alternate.hooks[hookIndex];

    const hook = {
      state: oldHook ? oldHook.state : initial,
      queue: []
    };

    // 合并执行多个 setState
    const actions = oldHook ? oldHook.queue : [];
    actions.forEach(action => {
      hook.state = action(hook.state);
    });

    const setState = action => {
      hook.queue.push(action);
      // 更新
      wipRoot = {
        dom: currentRoot.dom,
        props: currentRoot.props,
        alternate: currentRoot
      };
      unitOfWork = wipRoot;
      deletions = [];
    };

    wipFiber.hooks.push(hook);
    hookIndex++;
    return [hook.state, setState]
  }

  function updateHostComponent (fiber) {
    const { type, dom, props } = fiber;
    if (!dom) {
      fiber.dom = createDOM(type);
      updateDOM(fiber.dom, {}, props);
    }
    reconcileChildren(fiber, props.children);
  }

  function setUnitOfWork (work) {
    unitOfWork = work;
  }

  function setWipRoot (fiberRoot) {
    wipRoot = fiberRoot;
  }

  function pushDeletion (fiber) {
    deletions.push(fiber);
  }

  function render (element, container) {
    const fiberRoot = {
      dom: container,
      props: {
        children: [element]
      },
      alternate: null
    };
    setUnitOfWork(fiberRoot);
    setWipRoot(fiberRoot);
  }

  var index = {
    createElement,
    render,
    useState
  };

  return index;

})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvdHlwZXMuanMiLCIuLi9zcmMvY3JlYXRlRWxlbWVudC5qcyIsIi4uL3NyYy91dGlscy5qcyIsIi4uL3NyYy9kb20uanMiLCIuLi9zcmMvcmVjb25jaWxlLmpzIiwiLi4vc3JjL2NvbmN1cnJlbnQuanMiLCIuLi9zcmMvcmVuZGVyLmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBURVhUX0VMRU1FTlQgPSAnVEVYVF9FTEVNRU5UJ1xuZXhwb3J0IGNvbnN0IFVQREFURSA9ICdVUERBVEUnXG5leHBvcnQgY29uc3QgUExBQ0VNRU5UID0gJ1BMQUNFTUVOVCdcbmV4cG9ydCBjb25zdCBERUxFVElPTiA9ICdERUxFVElPTidcbiIsImltcG9ydCB7VEVYVF9FTEVNRU5UfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzLCAuLi5jaGlsZHJlbikge1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgcHJvcHM6IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLm1hcChjaGlsZCA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnIFxuICAgICAgICAgID8gY3JlYXRlVGV4dEVsZW1lbnQoY2hpbGQpXG4gICAgICAgICAgOiBjaGlsZFxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dEVsZW1lbnQodGV4dCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFRFWFRfRUxFTUVOVCxcbiAgICBwcm9wczoge1xuICAgICAgbm9kZVZhbHVlOiB0ZXh0LFxuICAgICAgY2hpbGRyZW46IFtdXG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGNvbnN0IGlzUHJvcGVydHkgPSBrZXkgPT4ga2V5ICE9PSAnY2hpbGRyZW4nICYmICFpc0V2ZW50KGtleSlcbmV4cG9ydCBjb25zdCBpc0V2ZW50ID0ga2V5ID0+IGtleS5zdGFydHNXaXRoKCdvbicpXG5leHBvcnQgY29uc3QgaXNOZXcgPSAocHJldiwgbmV4dCkgPT4ga2V5ID0+IHByZXZba2V5XSAhPT0gbmV4dFtrZXldXG5leHBvcnQgY29uc3QgaXNHb25lID0gKHByZXYsIG5leHQpID0+IGtleSA9PiAhKGtleSBpbiBuZXh0KVxuIiwiaW1wb3J0IHsgVEVYVF9FTEVNRU5UIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGlzUHJvcGVydHksIGlzTmV3LCBpc0dvbmUsIGlzRXZlbnQgfSBmcm9tICcuL3V0aWxzJ1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRE9NICh0eXBlKSB7XG4gIGNvbnN0ICRkb20gPSB0eXBlID09PSBURVhUX0VMRU1FTlRcbiAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxuICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKVxuXG4gIHJldHVybiAkZG9tXG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRvbVxuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzXG4gKiBAcGFyYW0ge09iamVjdH0gbmV3UHJvcHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURPTSAoZG9tLCBvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgT2JqZWN0LmtleXMob2xkUHJvcHMpXG4gICAgLmZpbHRlcihpc0V2ZW50KVxuICAgIC5maWx0ZXIoa2V5ID0+ICEoa2V5IGluIG5ld1Byb3BzKSB8fCBvbGRQcm9wc1trZXldICE9PSBuZXdQcm9wc1trZXldKVxuICAgIC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGtleS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygyKVxuICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG9sZFByb3BzW2tleV0pXG4gICAgfSlcblxuICBPYmplY3Qua2V5cyhvbGRQcm9wcylcbiAgICAuZmlsdGVyKGlzUHJvcGVydHkpXG4gICAgLmZpbHRlcihpc0dvbmUob2xkUHJvcHMsIG5ld1Byb3BzKSlcbiAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgZG9tW2tleV0gPSAnJ1xuICAgIH0pXG5cbiAgT2JqZWN0LmtleXMobmV3UHJvcHMpXG4gICAgLmZpbHRlcihpc0V2ZW50KVxuICAgIC5maWx0ZXIoaXNOZXcob2xkUHJvcHMsIG5ld1Byb3BzKSlcbiAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSBrZXkudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMilcbiAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBuZXdQcm9wc1trZXldKVxuICAgIH0pXG5cbiAgT2JqZWN0LmtleXMobmV3UHJvcHMpXG4gICAgLmZpbHRlcihpc1Byb3BlcnR5KVxuICAgIC5maWx0ZXIoaXNOZXcob2xkUHJvcHMsIG5ld1Byb3BzKSlcbiAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgZG9tW2tleV0gPSBuZXdQcm9wc1trZXldXG4gICAgfSlcbn1cbiIsImltcG9ydCB7IFVQREFURSwgUExBQ0VNRU5ULCBERUxFVElPTiB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBwdXNoRGVsZXRpb24gfSBmcm9tICcuL2NvbmN1cnJlbnQnXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RmliZXJ9IHdpcEZpYmVyXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuICh3aXBGaWJlciwgZWxlbWVudHMpIHtcbiAgbGV0IGluZGV4ID0gMFxuICBsZXQgcHJldlNpYmxpbmcgPSBudWxsXG4gIGxldCBvbGRGaWJlciA9IHdpcEZpYmVyLmFsdGVybmF0ZSAmJiB3aXBGaWJlci5hbHRlcm5hdGUuY2hpbGRcblxuICB3aGlsZSAoaW5kZXggPCBlbGVtZW50cy5sZW5ndGgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXhdXG4gICAgY29uc3QgaXNTYW1lVHlwZSA9IG9sZEZpYmVyICYmIGVsZW1lbnQgJiYgb2xkRmliZXIudHlwZSA9PT0gZWxlbWVudC50eXBlXG4gICAgbGV0IG5ld0ZpYmVyID0gbnVsbFxuXG4gICAgaWYgKGlzU2FtZVR5cGUpIHtcbiAgICAgIG5ld0ZpYmVyID0ge1xuICAgICAgICB0eXBlOiBvbGRGaWJlci50eXBlLFxuICAgICAgICBwcm9wczogZWxlbWVudC5wcm9wcyxcbiAgICAgICAgZG9tOiBvbGRGaWJlci5kb20sIC8vIOabtOaWsOWQjOS4gOS4qkRPTVxuICAgICAgICBwYXJlbnQ6IHdpcEZpYmVyLFxuICAgICAgICBlZmZlY3RUYWc6IFVQREFURSxcbiAgICAgICAgYWx0ZXJuYXRlOiBvbGRGaWJlclxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxlbWVudCAmJiAhaXNTYW1lVHlwZSkge1xuICAgICAgbmV3RmliZXIgPSB7XG4gICAgICAgIHR5cGU6IGVsZW1lbnQudHlwZSxcbiAgICAgICAgcHJvcHM6IGVsZW1lbnQucHJvcHMsXG4gICAgICAgIGRvbTogbnVsbCxcbiAgICAgICAgcGFyZW50OiB3aXBGaWJlcixcbiAgICAgICAgZWZmZWN0VGFnOiBQTEFDRU1FTlQsXG4gICAgICAgIGFsdGVybmF0ZTogbnVsbFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2xkRmliZXIgJiYgIWlzU2FtZVR5cGUpIHtcbiAgICAgIG9sZEZpYmVyLmVmZmVjdFRhZyA9IERFTEVUSU9OXG4gICAgICBwdXNoRGVsZXRpb24ob2xkRmliZXIpXG4gICAgfVxuXG4gICAgaWYgKG9sZEZpYmVyKSB7XG4gICAgICBvbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmdcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIHdpcEZpYmVyLmNoaWxkID0gbmV3RmliZXJcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldlNpYmxpbmcuc2libGluZyA9IG5ld0ZpYmVyXG4gICAgfVxuXG4gICAgcHJldlNpYmxpbmcgPSBuZXdGaWJlclxuICAgIGluZGV4KytcbiAgfVxufVxuXG4vKipcbiAqIEZpYmVyXG4gKiB7XG4gKiAgdHlwZTogc3RyaW5nXG4gKiAgcHJvcHM6IHtcbiAqICAgIGNoaWxkcmVuOiBFbGVtZW50W11cbiAqICB9XG4gKiAgZG9tOiBIVE1MRWxlbWVudFxuICogIHBhcmVudDogRmliZXJcbiAqICBjaGlsZDogRmliZXJcbiAqICBzaWJsaW5nOiBGaWJlclxuICogIGFsdGVybmF0ZTogRmliZXJcbiAqICBlZmZlY3RUYWc6IHN0cmluZ1xuICogfVxuICovXG4iLCJpbXBvcnQgeyBjcmVhdGVET00sIHVwZGF0ZURPTSB9IGZyb20gJy4vZG9tJ1xuaW1wb3J0IHsgcmVjb25jaWxlQ2hpbGRyZW4gfSBmcm9tICcuL3JlY29uY2lsZSdcbmltcG9ydCB7IFVQREFURSwgUExBQ0VNRU5ULCBERUxFVElPTiB9IGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICog5pe26Ze05YiH54mHXG4gKiDlsIbmr4/kuKpFbGVtZW505YiH5YiG5Li65LiA5Liq5bCP55qE5bel5L2c5Y2V5YWDXG4gKi9cblxubGV0IHVuaXRPZldvcmsgPSBudWxsIC8vIOaXtumXtOWIh+eJh++8muW9k+WJjeaJgOimgei/m+ihjOW3peS9nOeahEZpYmVy5Y2V5YWDXG5sZXQgd2lwUm9vdCA9IG51bGwgLy8g5L+d5a2YZmliZXIgdHJlZeeahOaguee7k+eCue+8jCB3b3JrIGluIHByb2dyZXNzIHJvb3RcbmxldCBkZWxldGlvbnMgPSBbXVxubGV0IGN1cnJlbnRSb290ID0gbnVsbCAvLyDorrDlvZXlvZPliY3lt6XkvZzliLDlk6rkuKroioLngrlcblxuZnVuY3Rpb24gY29tbWl0Um9vdCAoKSB7XG4gIGRlbGV0aW9ucy5mb3JFYWNoKGNvbW1pdFdvcmspXG4gIGNvbW1pdFdvcmsod2lwUm9vdC5jaGlsZClcbiAgY3VycmVudFJvb3QgPSB3aXBSb290XG4gIHdpcFJvb3QgPSBudWxsXG59XG5cbi8qKlxuICog5pON5L2c6IqC54K577yM5pu05paw77yM5Yig6Zmk77yM5re75YqgXG4gKiBAcGFyYW0ge0ZpYmVyfSBmaWJlclxuICovXG5mdW5jdGlvbiBjb21taXRXb3JrIChmaWJlcikge1xuICBpZiAoIWZpYmVyKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyDlh73mlbDnu4Tku7bmsqHmnIlkb21cbiAgLy8g5Li65Ye95pWw57uE5Lu255qE5a2Q5YWD57Sg5b6q546v5p+l5om+5Yiw54i26IqC54K5XG4gIGxldCBmaWJlclBhcmVudERPTSA9IGZpYmVyLnBhcmVudFxuICBpZiAoIWZpYmVyUGFyZW50RE9NLmRvbSkge1xuICAgIGZpYmVyUGFyZW50RE9NID0gZmliZXJQYXJlbnRET00ucGFyZW50XG4gIH1cbiAgY29uc3QgcGFyZW50RE9NID0gZmliZXJQYXJlbnRET00uZG9tXG5cbiAgLy8gZnVuY3Rpb24gY29tcG9uZW50IGRvbid0IGhhdmUgZG9tXG4gIGlmIChmaWJlci5lZmZlY3RUYWcgPT09IFBMQUNFTUVOVCAmJiBmaWJlci5kb20pIHtcbiAgICBwYXJlbnRET00uYXBwZW5kQ2hpbGQoZmliZXIuZG9tKVxuICB9IGVsc2UgaWYgKGZpYmVyLmVmZmVjdFRhZyA9PT0gVVBEQVRFKSB7XG4gICAgdXBkYXRlRE9NKGZpYmVyLmRvbSwgZmliZXIuYWx0ZXJuYXRlLnByb3BzLCBmaWJlci5wcm9wcylcbiAgfSBlbHNlIGlmIChmaWJlci5lZmZlY3RUYWcgPT09IERFTEVUSU9OKSB7XG5cbiAgfVxuICBjb21taXRXb3JrKGZpYmVyLmNoaWxkKVxuICBjb21taXRXb3JrKGZpYmVyLnNpYmxpbmcpXG59XG5cbi8qKlxuICog5rWP6KeI5Zmo56m66Zey5pe25omn6KGM5bel5L2cXG4gKiBAcGFyYW0ge0lkbGVEZWFkbGluZX0gZGVhZGxpbmVcbiAqL1xuZnVuY3Rpb24gd29ya0xvb3AgKGRlYWRsaW5lKSB7XG4gIGxldCBzaG91bGRQYXVzZSA9IGZhbHNlXG5cbiAgd2hpbGUgKHVuaXRPZldvcmsgJiYgIXNob3VsZFBhdXNlKSB7XG4gICAgdW5pdE9mV29yayA9IHBlcmZvcm1Vbml0T2ZXb3JrKHVuaXRPZldvcmspXG4gICAgc2hvdWxkUGF1c2UgPSBkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPCAyMFxuICB9XG5cbiAgLy8g6YG/5YWN5riy5p+T6YOo5YiGVUlcbiAgaWYgKCF1bml0T2ZXb3JrICYmIHdpcFJvb3QpIHtcbiAgICBjb21taXRSb290KClcbiAgfVxuXG4gIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKHdvcmtMb29wKVxufVxuXG53aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayh3b3JrTG9vcClcblxuLyoqXG4gKiDmr4/kuIDmrKHlt6XkvZzlpITnkIbkuIDkuKpGaWJlcuWFg+e0oFxuICogMS4g5re75YqgRE9NXG4gKiAyLiDmnoTlu7pGaWJlcuiKgueCuVxuICogMy4g6L+U5Zue5LiL5LiA5LiqRmliZXLoioLngrlcbiAqIEBwYXJhbSB7RmliZXJ9IGZpYmVyXG4gKi9cbmZ1bmN0aW9uIHBlcmZvcm1Vbml0T2ZXb3JrIChmaWJlcikge1xuICBjb25zdCBpc0Z1bmN0aW9uQ29tcG9uZW50ID0gZmliZXIudHlwZSBpbnN0YW5jZW9mIEZ1bmN0aW9uXG5cbiAgaWYgKGlzRnVuY3Rpb25Db21wb25lbnQpIHtcbiAgICB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChmaWJlcilcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGVIb3N0Q29tcG9uZW50KGZpYmVyKVxuICB9XG5cbiAgaWYgKGZpYmVyLmNoaWxkKSB7XG4gICAgcmV0dXJuIGZpYmVyLmNoaWxkXG4gIH1cbiAgbGV0IG5leHRGaWJlciA9IGZpYmVyXG4gIHdoaWxlIChuZXh0RmliZXIpIHtcbiAgICBpZiAobmV4dEZpYmVyLnNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBuZXh0RmliZXIuc2libGluZ1xuICAgIH1cbiAgICBuZXh0RmliZXIgPSBuZXh0RmliZXIucGFyZW50XG4gIH1cbn1cblxubGV0IHdpcEZpYmVyID0gbnVsbCAvLyDlvZPliY3kvb/nlKjliLDnmoTlh73mlbDnu4Tku7ZcbmxldCBob29rSW5kZXggPSAwIC8vIOW9k+WJjee7hOS7tueahOmSqeWtkOS4i+agh1xuZnVuY3Rpb24gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQgKGZpYmVyKSB7XG4gIHdpcEZpYmVyID0gZmliZXJcbiAgaG9va0luZGV4ID0gMFxuICB3aXBGaWJlci5ob29rcyA9IFtdXG4gIGNvbnN0IGNoaWxkcmVuID0gW2ZpYmVyLnR5cGUoZmliZXIucHJvcHMpXVxuICByZWNvbmNpbGVDaGlsZHJlbihmaWJlciwgY2hpbGRyZW4pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGF0ZSAoaW5pdGlhbCkge1xuICBjb25zdCBvbGRIb29rID1cbiAgICB3aXBGaWJlci5hbHRlcm5hdGUgJiZcbiAgICB3aXBGaWJlci5hbHRlcm5hdGUuaG9va3MgJiZcbiAgICB3aXBGaWJlci5hbHRlcm5hdGUuaG9va3NbaG9va0luZGV4XVxuXG4gIGNvbnN0IGhvb2sgPSB7XG4gICAgc3RhdGU6IG9sZEhvb2sgPyBvbGRIb29rLnN0YXRlIDogaW5pdGlhbCxcbiAgICBxdWV1ZTogW11cbiAgfVxuXG4gIC8vIOWQiOW5tuaJp+ihjOWkmuS4qiBzZXRTdGF0ZVxuICBjb25zdCBhY3Rpb25zID0gb2xkSG9vayA/IG9sZEhvb2sucXVldWUgOiBbXVxuICBhY3Rpb25zLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICBob29rLnN0YXRlID0gYWN0aW9uKGhvb2suc3RhdGUpXG4gIH0pXG5cbiAgY29uc3Qgc2V0U3RhdGUgPSBhY3Rpb24gPT4ge1xuICAgIGhvb2sucXVldWUucHVzaChhY3Rpb24pXG4gICAgLy8g5pu05pawXG4gICAgd2lwUm9vdCA9IHtcbiAgICAgIGRvbTogY3VycmVudFJvb3QuZG9tLFxuICAgICAgcHJvcHM6IGN1cnJlbnRSb290LnByb3BzLFxuICAgICAgYWx0ZXJuYXRlOiBjdXJyZW50Um9vdFxuICAgIH1cbiAgICB1bml0T2ZXb3JrID0gd2lwUm9vdFxuICAgIGRlbGV0aW9ucyA9IFtdXG4gIH1cblxuICB3aXBGaWJlci5ob29rcy5wdXNoKGhvb2spXG4gIGhvb2tJbmRleCsrXG4gIHJldHVybiBbaG9vay5zdGF0ZSwgc2V0U3RhdGVdXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhvc3RDb21wb25lbnQgKGZpYmVyKSB7XG4gIGNvbnN0IHsgdHlwZSwgZG9tLCBwcm9wcyB9ID0gZmliZXJcbiAgaWYgKCFkb20pIHtcbiAgICBmaWJlci5kb20gPSBjcmVhdGVET00odHlwZSlcbiAgICB1cGRhdGVET00oZmliZXIuZG9tLCB7fSwgcHJvcHMpXG4gIH1cbiAgcmVjb25jaWxlQ2hpbGRyZW4oZmliZXIsIHByb3BzLmNoaWxkcmVuKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VW5pdE9mV29yayAod29yaykge1xuICB1bml0T2ZXb3JrID0gd29ya1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0V2lwUm9vdCAoZmliZXJSb290KSB7XG4gIHdpcFJvb3QgPSBmaWJlclJvb3Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHB1c2hEZWxldGlvbiAoZmliZXIpIHtcbiAgZGVsZXRpb25zLnB1c2goZmliZXIpXG59XG4iLCJpbXBvcnQgeyBzZXRVbml0T2ZXb3JrLCBzZXRXaXBSb290IH0gZnJvbSAnLi9jb25jdXJyZW50J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXIgKGVsZW1lbnQsIGNvbnRhaW5lcikge1xuICBjb25zdCBmaWJlclJvb3QgPSB7XG4gICAgZG9tOiBjb250YWluZXIsXG4gICAgcHJvcHM6IHtcbiAgICAgIGNoaWxkcmVuOiBbZWxlbWVudF1cbiAgICB9LFxuICAgIGFsdGVybmF0ZTogbnVsbFxuICB9XG4gIHNldFVuaXRPZldvcmsoZmliZXJSb290KVxuICBzZXRXaXBSb290KGZpYmVyUm9vdClcbn1cbiIsImltcG9ydCBjcmVhdGVFbGVtZW50IGZyb20gJy4vY3JlYXRlRWxlbWVudCdcbmltcG9ydCByZW5kZXIgZnJvbSAnLi9yZW5kZXInXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJy4vY29uY3VycmVudCdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjcmVhdGVFbGVtZW50LFxuICByZW5kZXIsXG4gIHVzZVN0YXRlXG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7RUFBTyxNQUFNLFlBQVksR0FBRyxlQUFjO0FBQzFDLEVBQU8sTUFBTSxNQUFNLEdBQUcsU0FBUTtBQUM5QixFQUFPLE1BQU0sU0FBUyxHQUFHLFlBQVc7QUFDcEMsRUFBTyxNQUFNLFFBQVEsR0FBRyxVQUFVOztFQ0RuQixTQUFTLGFBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsUUFBUSxFQUFFO0VBQ2hFLEVBQUUsT0FBTztFQUNULElBQUksSUFBSTtFQUNSLElBQUksS0FBSyxFQUFFO0VBQ1gsTUFBTSxHQUFHLEtBQUs7RUFDZCxNQUFNLFFBQVEsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSTtFQUN0QyxRQUFRLE9BQU8sT0FBTyxLQUFLLEtBQUssUUFBUTtFQUN4QyxZQUFZLGlCQUFpQixDQUFDLEtBQUssQ0FBQztFQUNwQyxZQUFZLEtBQUs7RUFDakIsT0FBTyxDQUFDO0VBQ1IsS0FBSztFQUNMLEdBQUc7RUFDSCxDQUFDOztFQUVELFNBQVMsaUJBQWlCLENBQUMsSUFBSSxFQUFFO0VBQ2pDLEVBQUUsT0FBTztFQUNULElBQUksSUFBSSxFQUFFLFlBQVk7RUFDdEIsSUFBSSxLQUFLLEVBQUU7RUFDWCxNQUFNLFNBQVMsRUFBRSxJQUFJO0VBQ3JCLE1BQU0sUUFBUSxFQUFFLEVBQUU7RUFDbEIsS0FBSztFQUNMLEdBQUc7RUFDSDs7R0FBQyxEQ3hCTSxNQUFNLFVBQVUsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLFVBQVUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUM7QUFDcEUsRUFBTyxNQUFNLE9BQU8sR0FB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
